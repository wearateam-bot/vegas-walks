<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Vegas Walks</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body style="font-family: system-ui; text-align: center; padding: 28px;">

<h1>ğŸ° Vegas Walks</h1>
<p>Downtown Las Vegas GPS Walking Tour</p>

<button onclick="startTour()" style="padding:14px 22px;font-size:16px;">
  Start Walking Tour
</button>

<div id="content" style="margin-top:25px;font-weight:500;"></div>

<p id="distance" style="font-size:14px;color:#555;margin-top:15px;"></p>

<hr style="margin:30px 0;">

<h3>ğŸ§ª Test Stops (Force Open)</h3>

<div id="testButtons"></div>

<script>
const stops = [
{
  name: "Sin City Hostel â€“ Wedding Chapel District",
  lat: 36.15886,
  lng: -115.14939,
  radius: 350,
  info: `
  ğŸ’ <strong>Wedding Capital of the World</strong><br><br>
  Nevadaâ€™s 1931 marriage law changes made Las Vegas the fastest place in America to get married.
  Chapels clustered here offering quick ceremonies, neon signs, Elvis officiants, and drive-thru vows.
  `
},
{
  name: "El Cortez & Container Park",
  lat: 36.1706,
  lng: -115.1409,
  radius: 350,
  info: `
  ğŸ¨ <strong>El Cortez & Downtown Revival</strong><br><br>
  Opened in 1941, El Cortez is one of Las Vegasâ€™ oldest casinos with early mob ties.
  Container Park represents downtownâ€™s modern revival and creative energy.
  `
},
{
  name: "Fremont St & Las Vegas Blvd",
  lat: 36.1695,
  lng: -115.1401,
  radius: 350,
  info: `
  ğŸŒµ <strong>From Desert Road to Neon Icon</strong><br><br>
  Fremont Street was once a dusty frontier road.
  Historic photos show a small desert town â€” today itâ€™s a neon-covered entertainment corridor.
  `
},
{
  name: "Golden Gate Casino",
  lat: 36.1702,
  lng: -115.1441,
  radius: 350,
  info: `
  ğŸ›ï¸ <strong>Golden Gate Casino</strong><br><br>
  Originally Hotel Nevada (1906), this is the oldest hotel in Las Vegas.
  It popularized shrimp cocktails and modern hotel amenities.
  `
},
{
  name: "Circa & Legacy Club",
  lat: 36.1708,
  lng: -115.1433,
  radius: 350,
  info: `
  ğŸ“º <strong>Circa & Sportsbook History</strong><br><br>
  Circa features the worldâ€™s largest sportsbook.
  The Legacy Club honors pioneers who shaped Las Vegas from desert to destination.
  `
},
{
  name: "Binionâ€™s Horseshoe",
  lat: 36.1701,
  lng: -115.1436,
  radius: 350,
  info: `
  â™ ï¸ <strong>Binionâ€™s: High Stakes & Hard Truths</strong><br><br>
  Home of the World Series of Poker.
  Binionâ€™s history includes innovation, controversy, and Vegas excess.
  `
},
{
  name: "Golden Nugget",
  lat: 36.1707,
  lng: -115.1437,
  radius: 350,
  info: `
  ğŸ¥‡ <strong>Golden Nugget</strong><br><br>
  Opened in 1946.
  Home of the â€œHand of Faith,â€ the largest gold nugget on public display.
  `
},
{
  name: "Fremont & Four Queens",
  lat: 36.1704,
  lng: -115.1448,
  radius: 350,
  info: `
  ğŸ² <strong>Four Queens & Fremont Energy</strong><br><br>
  A classic Fremont casino with no resort fees.
  Represents old-school Vegas meeting modern nightlife.
  `
},
{
  name: "The D & Sigma Derby",
  lat: 36.1709,
  lng: -115.1455,
  radius: 350,
  info: `
  ğŸ <strong>The D & Mechanical Horse Racing</strong><br><br>
  Sigma Derby is one of the last mechanical horse racing games in existence.
  Loud, chaotic, and beloved by locals.
  `
},
{
  name: "Hammered Harryâ€™s",
  lat: 36.1714,
  lng: -115.1463,
  radius: 350,
  info: `
  ğŸ¹ <strong>Hammered Harryâ€™s â€” Tour Perk</strong><br><br>
  Tour guests receive a free margarita and half-off appetizers.
  A celebratory end to the walk.
  `
}
];

let currentStopIndex = 0;
let tourStarted = false;

function startTour() {
  tourStarted = true;
  document.getElementById("content").innerHTML =
    "Tour started. GPS active.";
  
  navigator.geolocation.watchPosition(
    pos => {
      if (!tourStarted || currentStopIndex >= stops.length) return;
      const stop = stops[currentStopIndex];
      const d = getDistance(
        pos.coords.latitude,
        pos.coords.longitude,
        stop.lat,
        stop.lng
      );
      document.getElementById("distance").innerText =
        `Distance to next stop: ${Math.round(d)} m`;
      if (d <= stop.radius) {
        document.getElementById("content").innerHTML = stop.info;
        currentStopIndex++;
      }
    },
    () => {},
    { enableHighAccuracy: true }
  );
}

function forceOpen(index) {
  tourStarted = true;
  currentStopIndex = index + 1;
  document.getElementById("content").innerHTML = stops[index].info;
}

function getDistance(lat1, lon1, lat2, lon2) {
  const R = 6371000;
  const toRad = x => x * Math.PI / 180;
  const dLat = toRad(lat2 - lat1);
  const dLon = toRad(lon2 - lon1);
  const a =
    Math.sin(dLat/2)**2 +
    Math.cos(toRad(lat1))*Math.cos(toRad(lat2))*Math.sin(dLon/2)**2;
  return R * (2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a)));
}

// Build test buttons
const btns = document.getElementById("testButtons");
stops.forEach((s, i) => {
  const b = document.createElement("button");
  b.innerText = `Open: ${s.name}`;
  b.style.margin = "5px";
  b.onclick = () => forceOpen(i);
  btns.appendChild(b);
});
</script>

</body>
</html>