<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Vegas Walks</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
</head>

<body style="font-family:system-ui;text-align:center;padding:20px;">

<h1>üé∞ Vegas Walks</h1>

<div id="lock">
  <p>This walking tour unlocks at the starting point.</p>
  <button onclick="unlockTour()">Unlock Tour</button>
<div id="endTour" style="display:none;margin-top:30px;">
  <h2>üéâ End of the Tour</h2>
  <p>
    Thanks for walking Downtown Las Vegas with <b>Vegas Walks</b>.<br>
    If you enjoyed the tour, tips are greatly appreciated and help keep this experience alive.
  </p>

  <div id="paypal-container-7SDB2F6UNJJ2E"></div>
</div>

<script src="https://www.paypal.com/sdk/js?client-id=sb&components=hosted-buttons"></script>
<script>
  paypal.HostedButtons({
    hostedButtonId: "7SDB2F6UNJJ2E",
  }).render("#paypal-container-7SDB2F6UNJJ2E");
</script>
</div>

<div id="tour" style="display:none;">

<button onclick="startTour()" style="padding:12px 20px;">Start Walking Tour</button>

<div id="map" style="height:260px;margin:15px 0;"></div>

<div id="content"></div>

<audio id="audio" controls style="margin-top:12px;width:100%;"></audio>

<p id="distance" style="font-size:13px;color:#666;"></p>

</div>

<script>
const stops = [
{
  name:"Sin City Hostel ‚Äì Wedding Chapel District",
  lat:36.15886,lng:-115.14939,radius:350,
  image:"https://upload.wikimedia.org/wikipedia/commons/5/54/Las_Vegas_wedding_chapel_1950s.jpg",
  audio:"https://upload.wikimedia.org/wikipedia/commons/transcoded/4/45/Short_Silence.ogg/Short_Silence.ogg.mp3",
  info:"üíç <b>Wedding Capital of the World</b><br><br>Nevada‚Äôs 1931 marriage laws made Las Vegas the fastest place in America to get married. Wedding chapels clustered here offering quick ceremonies, neon signs, and Elvis impersonators."
},
{
  name:"El Cortez & Container Park",
  lat:36.1706,lng:-115.1409,radius:350,
  image:"https://upload.wikimedia.org/wikipedia/commons/3/39/El_Cortez_Hotel_1940s.jpg",
  audio:"https://upload.wikimedia.org/wikipedia/commons/transcoded/4/45/Short_Silence.ogg/Short_Silence.ogg.mp3",
  info:"üè® <b>El Cortez & Downtown Revival</b><br><br>Opened in 1941, El Cortez is one of the oldest casinos in Las Vegas and a symbol of downtown‚Äôs resilience and rebirth."
},
{
  name:"Fremont St & Las Vegas Blvd",
  lat:36.1695,lng:-115.1401,radius:350,
  image:"https://upload.wikimedia.org/wikipedia/commons/7/7c/Fremont_Street_1930s.jpg",
  audio:"https://upload.wikimedia.org/wikipedia/commons/transcoded/4/45/Short_Silence.ogg/Short_Silence.ogg.mp3",
  info:"üåµ <b>From Desert Road to Neon Icon</b><br><br>Fremont Street was once a dusty frontier road. Today it stands as the historic heart of Las Vegas and the birthplace of its neon identity."
},
{
  name:"Golden Gate Casino",
  lat:36.1702,lng:-115.1441,radius:350,
  image:"https://upload.wikimedia.org/wikipedia/commons/9/9e/Golden_Gate_Hotel_1906.jpg",
  audio:"https://upload.wikimedia.org/wikipedia/commons/transcoded/4/45/Short_Silence.ogg/Short_Silence.ogg.mp3",
  info:"üèõÔ∏è <b>Golden Gate Casino</b><br><br>Originally Hotel Nevada in 1906, this is the oldest hotel in Las Vegas and the birthplace of many modern casino amenities."
},
{
  name:"Circa & Legacy Club",
  lat:36.1708,lng:-115.1433,radius:350,
  image:"https://upload.wikimedia.org/wikipedia/commons/6/6b/Circa_Resort.jpg",
  audio:"https://upload.wikimedia.org/wikipedia/commons/transcoded/4/45/Short_Silence.ogg/Short_Silence.ogg.mp3",
  info:"üì∫ <b>Circa & Legacy Club</b><br><br>Circa houses the world‚Äôs largest sportsbook, while the Legacy Club honors the pioneers who transformed Las Vegas into a global destination."
},
{
  name:"Binion‚Äôs Horseshoe",
  lat:36.1701,lng:-115.1436,radius:350,
  image:"https://upload.wikimedia.org/wikipedia/commons/2/22/Binions_Horseshoe_1969.jpg",
  audio:"https://upload.wikimedia.org/wikipedia/commons/transcoded/4/45/Short_Silence.ogg/Short_Silence.ogg.mp3",
  info:"‚ô†Ô∏è <b>Binion‚Äôs Horseshoe</b><br><br>Birthplace of the World Series of Poker. A place of innovation, high stakes, and legendary stories."
},
{
  name:"Golden Nugget",
  lat:36.1707,lng:-115.1437,radius:350,
  image:"https://upload.wikimedia.org/wikipedia/commons/8/8a/Golden_Nugget_1950s.jpg",
  audio:"https://upload.wikimedia.org/wikipedia/commons/transcoded/4/45/Short_Silence.ogg/Short_Silence.ogg.mp3",
  info:"ü•á <b>Golden Nugget</b><br><br>Home of the Hand of Faith, the largest gold nugget ever found by a metal detector and on public display."
},
{
  name:"Fremont & Four Queens",
  lat:36.1704,lng:-115.1448,radius:350,
  image:"https://upload.wikimedia.org/wikipedia/commons/5/59/Four_Queens_1960s.jpg",
  audio:"https://upload.wikimedia.org/wikipedia/commons/transcoded/4/45/Short_Silence.ogg/Short_Silence.ogg.mp3",
  info:"üé≤ <b>Four Queens</b><br><br>A classic Fremont casino that represents old-school Las Vegas hospitality without modern resort fees."
},
{
  name:"The D & Sigma Derby",
  lat:36.1709,lng:-115.1455,radius:350,
  image:"https://upload.wikimedia.org/wikipedia/commons/3/3f/Sigma_Derby.jpg",
  audio:"https://upload.wikimedia.org/wikipedia/commons/transcoded/4/45/Short_Silence.ogg/Short_Silence.ogg.mp3",
  info:"üêé <b>Sigma Derby</b><br><br>One of the last surviving mechanical horse racing games, beloved for its chaotic energy and nostalgia."
},
{
  name:"Hammered Harry‚Äôs",
  lat:36.1714,lng:-115.1463,radius:350,
  image:"https://upload.wikimedia.org/wikipedia/commons/4/45/Las_Vegas_Bar_1960s.jpg",
  audio:"https://upload.wikimedia.org/wikipedia/commons/transcoded/4/45/Short_Silence.ogg/Short_Silence.ogg.mp3",
  info:"üçπ <b>Hammered Harry‚Äôs</b><br><br>Tour guests enjoy a free margarita and half-off appetizers ‚Äî a celebratory finish to the walk."
}
];

let index = 0, map, marker;

function unlockTour() {
  document.getElementById("lock").style.display = "none";
  document.getElementById("tour").style.display = "block";
  map = L.map('map').setView([36.1699, -115.1427], 15);
  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(map);
  marker = L.marker([0,0]).addTo(map);
}

function startTour() {
  navigator.geolocation.watchPosition(pos => {
    marker.setLatLng([pos.coords.latitude, pos.coords.longitude]);
    if (index >= stops.length) return;
    const s = stops[index];
    const d = getDistance(pos.coords.latitude, pos.coords.longitude, s.lat, s.lng);
    document.getElementById("distance").innerText = `Distance to next stop: ${Math.round(d)} meters`;
    if (d <= s.radius) showStop(index++);
  }, err => {
    alert("Location access is required for the tour.");
  }, { enableHighAccuracy: true });
}

function showStop(i) {
  const s = stops[i];
  document.getElementById("content").innerHTML =
    `<h3>${s.name}</h3>
     <img src="${s.image}" style="width:100%;border-radius:10px;margin-top:8px;">
     <p style="margin-top:10px;">${s.info}</p>`;
  const a = document.getElementById("audio");
  a.src = s.audio;
  a.play();
}

function getDistance(a,b,c,d){
  const R=6371000,to=x=>x*Math.PI/180;
  const A=Math.sin(to(c-a)/2)**2+
    Math.cos(to(a))*Math.cos(to(c))*Math.sin(to(d-b)/2)**2;
  return R*2*Math.atan2(Math.sqrt(A),Math.sqrt(1-A));
}
</script>

</body>
</html>